<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Luolis</title>
    <style type="text/css">

        body {
            margin: 0;
            padding: 4px 20px;
            background: #111010;
            color: #f0f0f0;
        }

    </style>

    <script src="js/lib/pubsub.js" type="text/javascript"></script>
    <script src="js/lib/socket.io.js" type="text/javascript"></script>
    <script src="js/lib/stats.js" type="text/javascript"></script>
    <script src="js/lib/underscore.js" type="text/javascript"></script>
    <script src="js/lib/Box2dWeb-2.1.a.3.js" type="text/javascript"></script>

    <script src="js/define.js" type="text/javascript"></script>

    <script src="js/broker/LocalBroker.js" type="text/javascript"></script>
    <script src="js/broker/SyncInputBroker.js" type="text/javascript"></script>
    <script src="js/broker/SendWorldBroker.js" type="text/javascript"></script>

    <script src="js/common/shipInputTypes.js" type="text/javascript"></script>

    <script src="js/client/input/KeyboardInput.js" type="text/javascript"></script>
    <script src="js/client/input/InputShipController.js" type="text/javascript"></script>
    <script src="js/client/rendering/Renderer.js" type="text/javascript"></script>
    <script src="js/client/Client.js" type="text/javascript"></script>
    <script src="js/client/clientUtils.js" type="text/javascript"></script>

    <script src="js/engine/model/World.js" type="text/javascript"></script>
    <script src="js/engine/physics/Physics.js" type="text/javascript"></script>
    <script src="js/engine/Engine.js" type="text/javascript"></script>

    <script src="js/central/Central.js" type="text/javascript"></script>

    <script type="text/javascript">

        var oldLog = window.log;
        window.log = function () {
            document.getElementById("log").innerHTML += Array.prototype.join.apply(arguments    , [" "]) + "\n";
            oldLog.apply(oldLog, arguments);
        };

        function initializeHost () {
            var socketUrl = "http://localhost:9876";
            log("Connecting socket to " + socketUrl + "..");
            var socket = io.connect(socketUrl);
            socket.on("connect", function () {
                log("Socket connected.");
                var broker = new luolis.broker.SendWorldBroker(socket);
                new luolis.central.Central(broker).run();
                new luolis.engine.Engine(broker).createWorld(400, 300);
            });
            socket.on("disconnect", function () {
                log("Socket disconnected.");
            });
        }

    </script>

</head>
<body onload="initializeHost()">
<pre id="log"></pre>
</body>
</html>